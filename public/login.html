<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login – Fish n Chips</title>
    <meta name="description" content="Login to access your account.">
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCMR_WAF-C54lN-bnp1VCbs-D9TEEsEnDk",
            authDomain: "test-9f3d9.firebaseapp.com",
            projectId: "test-9f3d9",
            storageBucket: "test-9f3d9.firebasestorage.app",
            messagingSenderId: "426597718014",
            appId: "1:426597718014:web:c66897f78848760f9e12af",
            measurementId: "G-VXQVCQPE20"
        };
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        // Expose logEvent globally
        window.logAnalyticsEvent = (eventName, eventParams) => {
            logEvent(analytics, eventName, eventParams);
            console.log(`Analytics Event: ${eventName}`, eventParams);
        };
    </script>

    <!-- Navigation -->
    <nav class="navbar animate-in-down">
        <div class="container nav-container">
            <a href="index.html" class="logo">Fish <span class="text-gold">n</span> Chips</a>
            <div class="nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html#home" class="nav-link">Home</a></li>
                <li><a href="index.html#menu" class="nav-link">Menu</a></li>
                <li><a href="about.html" class="nav-link">Our Story</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
                <li class="cart-btn-wrapper" id="cartBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" width="24" height="24">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
                    </svg>
                    <span class="cart-count">0</span>
                </li>
                <li id="authItem"><a href="login.html" id="authLink" class="nav-login-btn">Login</a></li>
            </ul>
        </div>
    </nav>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h3>Your Basket</h3>
            <div class="cart-close" id="cartClose">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="cart-body" id="cartItems">
            <!-- Items -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">£0.00</span>
            </div>
            <a href="checkout.html" class="btn btn-primary" style="width: 100%; text-align: center;">Checkout</a>
        </div>
    </div>

    <!-- Auth Section -->
    <section class="auth-section">
        <div class="auth-container fade-in-section visible animate-in animate-delay-1">
            <h2>Welcome Back</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" name="username" class="form-input" placeholder="Enter your username" required />
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" name="password" class="form-input" placeholder="Enter your password"
                        required />
                </div>
                <!-- Error Message Container -->
                <div class="error-message" style="color: red; margin-bottom: 1rem; display: none;"></div>
                <button type="submit" class="btn btn-primary auth-submit-btn">Log In</button>
            </form>
            <div class="auth-footer">
                <p>Don’t have an account? <a href="signup.html">Sign up</a></p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-brand">
                <h3>Fish <span class="text-gold">n</span> Chips</h3>
                <p>Redefining the classic.</p>
                <div class="socials">
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="footer-info">
                <h4>Visit Us</h4>
                <p>123 Seaside Avenue</p>
                <p>Brighton, BN1 1AA</p>
            </div>
            <div class="footer-hours">
                <h4>Opening Hours</h4>
                <p>Mon - Sun: 11am - 10pm</p>
            </div>
        </div>
        <div class="footer-bottom text-center">
            <p>&copy; 2025 Fish n Chips. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/script.js"></script>
</body>

</html>